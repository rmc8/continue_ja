---
title: 動作の仕組み
description: オートコンプリートの動作原理
keywords: [仕組み, オートコンプリート, コンテキスト]
sidebar_position: 4
---

オートコンプリートは、検索方法と応答処理技術を組み合わせた[複合AIシステム](https://bair.berkeley.edu/blog/2024/02/18/compound-ai-systems/)です。このシステムは大まかに3つの部分で理解することができます。

## タイミング

素早く提案を表示し、かつ過剰なリクエストを送信しないために、以下の方法を採用しています：

- デバウンシング：速いタイピング中は、キーストローク毎にリクエストを送信しません。代わりに、入力が終わるまで待機します。
- キャッシング：既に補完を生成した位置にカーソルがある場合、その補完を再利用します。例えば、バックスペースを押すと、以前に表示された提案をすぐに表示できます。

## コンテキスト

[コンテキスト選択](context-selection.md)ページで説明されているように、Continueはコードベースから関連するスニペットを見つけてプロンプトに含めるために、複数の検索方法を使用します。

## フィルタリング

言語モデルは完璧ではありませんが、出力を調整することでより良くすることができます。提案を表示する前に、以下を含む広範な後処理を行っています：

- 特殊トークンの除去
- コードの再生成時に早期停止
- インデントの修正

また、応答が悪い場合は完全に除外することもあります。これは多くの場合、極端な繰り返しが原因です。

動作の詳細については、[オートコンプリートの深掘り](../customize/deep-dives/autocomplete.md)でさらに学ぶことができます。

Citations:
[1] <https://bair.berkeley.edu/blog/2024/02/18/compound-ai-systems/>
